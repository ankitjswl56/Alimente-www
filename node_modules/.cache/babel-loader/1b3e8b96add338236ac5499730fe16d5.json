{"ast":null,"code":"var _jsxFileName = \"/Users/ankitjaiswal/Desktop/Aliment-www/src/components/menu/cart/cart.js\";\nimport React from 'react';\nimport { Component } from 'react';\nimport './cart.css';\nimport { Link } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\nimport { connect } from 'react-redux';\nimport { cartorder } from '../../../actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\n\nclass Cart extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cart: [],\n      checkoutbutton: false,\n      otherpay: false,\n      cod: false\n    };\n  }\n\n  componentWillMount() {\n    if (cookies.get('rescart')) {\n      this.setState({\n        cart: [...cookies.get('rescart')]\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    console.log(nextProps);\n\n    if (nextProps.user) {\n      if (nextProps.user.orders.orderconfirm) {\n        cookies.remove('rescart');\n        window.location.href = '/userprofile';\n      } else {\n        alert(nextProps.user.orders.message);\n      }\n    }\n  }\n\n  render() {\n    const increaseincart = items => {\n      let rescart = this.state.cart;\n      let flag = 0;\n\n      for (let i of rescart) {\n        if (i === items) {\n          i['quantity'] = i['quantity'] + 1;\n          flag = 1;\n          break;\n        }\n      }\n\n      if (flag === 0) {\n        items['quantity'] = 1;\n        rescart.push(items);\n      }\n\n      cookies.set('rescart', rescart);\n      this.setState({\n        cart: [...rescart]\n      });\n    };\n\n    const decreaseincart = items => {\n      let rescart = this.state.cart;\n      let flag = 0;\n\n      for (let i of rescart) {\n        if (i === items) {\n          if (i[`quantity`] > 1) {\n            i['quantity'] = i['quantity'] - 1;\n            flag = 1;\n            break;\n          }\n        }\n      }\n\n      if (flag === 0) {\n        rescart = rescart.filter(Each => {\n          return Each.name != items.name;\n        });\n      }\n\n      cookies.set('rescart', rescart);\n      this.setState({\n        cart: [...rescart]\n      });\n    };\n\n    const totalbill = () => {\n      let total = 0;\n      this.state.cart.map(each => {\n        return total = total + each.price * each.quantity;\n      });\n      return total;\n    };\n\n    const buyfood = () => {\n      if (this.state.cod) {\n        if (this.props.login) {\n          if (this.props.login.loginauth) {\n            let fooddetails = [];\n\n            for (let i of this.state.cart) {\n              fooddetails.push({\n                foodname: i.name,\n                foodprice: i.price,\n                foodquantity: i.quantity\n              });\n            }\n\n            this.props.cartorder(this.props.login.userid, this.props.login.email, fooddetails, totalbill() + totalbill() * 13 / 100);\n          } else {\n            alert('Please signin first');\n            window.location.href = '/signin';\n          }\n        }\n      } else {\n        alert('Please select the payment option first');\n      }\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cartpage\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          pointerEvents: this.state.checkoutbutton ? 'none' : null,\n          opacity: this.state.checkoutbutton ? '0.2' : null\n        },\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/menu\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"backbutton\",\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"carttxt\",\n          children: \"Your Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cartbox\",\n          \"data-aos\": \"fade-up\",\n          children: this.state.cart.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"headingincart\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"headingnameincart\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"headingquantityincart\",\n                children: \"Quantity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"headingpriceincart\",\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cartboxinside\",\n              children: this.state.cart.map((each, i) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"eachitem\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"numbersforitems\",\n                    children: [i + 1, \".\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"itemnameandprice\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"itemname\",\n                      children: each.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"itemprice\",\n                      children: [\"Rs. \", each.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"buttonincart\",\n                    onClick: () => decreaseincart(each),\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        fontSize: '1.8vw'\n                      },\n                      children: \"-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 117\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"itemquantity\",\n                    children: each.quantity\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"buttonincart\",\n                    onClick: () => increaseincart(each),\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        fontSize: '1.8vw'\n                      },\n                      children: \"+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 117\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"totalpriceforeach\",\n                    children: [\"Rs. \", each.price * each.quantity]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 49\n                  }, this)]\n                }, each.name, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 45\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"carttxt emptycarttxt\",\n            style: {\n              color: '#000000'\n            },\n            children: \"Please select your food first\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"checkoutbox\",\n          children: this.state.cart.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"carttxt yourbill\",\n              children: \"Your bill\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"billdetails\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"totalbilldiv\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"totalbill\",\n                  children: \"Total:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"totalbillnum\",\n                  children: [\"Rs. \", parseInt(totalbill()).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"totalbilldiv\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"totalbill\",\n                  children: \"Tax:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"totalbillnum\",\n                  children: \"13%\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"totalbilldiv\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"totalbill\",\n                  children: \"Total Amount:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"totalbillnum\",\n                  children: [\"Rs. \", parseInt(totalbill() + totalbill() * 13 / 100).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"checkoutbutton\",\n              onClick: () => [this.setState({\n                checkoutbutton: true\n              }), window.scrollTo(0, 0)],\n              children: \"Check Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"carttxt emptycarttxt\",\n            style: {\n              color: '#000000'\n            },\n            children: \"Please select your food first\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.state.checkoutbutton ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"checkoutprocess\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"buttoncross\",\n            onClick: () => this.setState({\n              checkoutbutton: false\n            }),\n            children: \"X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"paytxt\",\n            children: \"How do you want to pay?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"optionstopay\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"eachradio\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                className: \"radiobuttons\",\n                onChange: () => this.setState({\n                  otherpay: false\n                }),\n                checked: this.state.otherpay\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"radiooptionsname\",\n                children: \"Debit Card\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"eachradio\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                className: \"radiobuttons\",\n                onChange: () => this.setState({\n                  otherpay: false\n                }),\n                checked: this.state.otherpay\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"radiooptionsname\",\n                children: \"Credit Card\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"eachradio\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                className: \"radiobuttons\",\n                onChange: () => this.setState({\n                  otherpay: false\n                }),\n                checked: this.state.otherpay\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"radiooptionsname\",\n                children: \"Net Banking\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"eachradio\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                className: \"radiobuttons\",\n                onChange: () => this.setState({\n                  cod: true\n                }),\n                checked: this.state.cod\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"radiooptionsname\",\n                onClick: () => this.setState({\n                  cod: true\n                }),\n                children: \"Cash On Delivery (COD)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"orderbuttonincart\",\n            onClick: () => buyfood(),\n            children: \"Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    login: state.user_reducer.login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  cartorder\n})(Cart);","map":{"version":3,"sources":["/Users/ankitjaiswal/Desktop/Aliment-www/src/components/menu/cart/cart.js"],"names":["React","Component","Link","Cookies","connect","cartorder","cookies","Cart","state","cart","checkoutbutton","otherpay","cod","componentWillMount","get","setState","componentWillReceiveProps","nextProps","console","log","user","orders","orderconfirm","remove","window","location","href","alert","message","render","increaseincart","items","rescart","flag","i","push","set","decreaseincart","filter","Each","name","totalbill","total","map","each","price","quantity","buyfood","props","login","loginauth","fooddetails","foodname","foodprice","foodquantity","userid","email","pointerEvents","opacity","length","fontSize","color","parseInt","toFixed","scrollTo","mapStateToProps","user_reducer"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Component } from 'react';\nimport './cart.css';\nimport {Link} from 'react-router-dom';\nimport Cookies from 'universal-cookie';\nimport {connect} from 'react-redux';\nimport {cartorder} from '../../../actions';\n\nconst cookies = new Cookies()\n\nclass Cart extends Component{\n    state = {\n        cart : [],\n        checkoutbutton : false,\n        otherpay : false,\n        cod : false\n    }\n    componentWillMount(){\n        if(cookies.get('rescart')){\n            this.setState({\n                cart : [...cookies.get('rescart')]\n            })\n        }\n    }\n    componentWillReceiveProps(nextProps){\n        console.log(nextProps)\n        if(nextProps.user){\n            if(nextProps.user.orders.orderconfirm){\n                cookies.remove('rescart')\n                window.location.href = '/userprofile'\n            }else{\n                alert(nextProps.user.orders.message)\n            }\n        }\n    }\n    render(){\n        const increaseincart = (items) =>{\n            let rescart = this.state.cart    \n            let flag = 0\n            for(let i of rescart){\n                if(i === items){\n                    i['quantity'] = i['quantity'] + 1\n                    flag = 1\n                    break\n                }\n            }\n            if(flag === 0){\n                items['quantity'] = 1\n                rescart.push(items)\n            }\n            cookies.set('rescart',rescart)\n            this.setState({\n                cart : [...rescart]\n            })\n        }\n        const decreaseincart = (items) =>{\n            let rescart = this.state.cart\n            let flag = 0\n            for(let i of rescart){\n                if(i === items){\n                    if(i[`quantity`] > 1){\n                        i['quantity'] = i['quantity'] - 1\n                        flag = 1\n                        break\n                    }\n                }\n            }\n            if(flag === 0){\n                rescart = (rescart.filter((Each)=>{return Each.name != items.name}))\n            }\n            cookies.set('rescart',rescart)\n            this.setState({\n                cart : [...rescart]\n            })\n        }\n        const totalbill = () =>{\n            let total = 0\n            this.state.cart.map((each)=>{\n                return total = total + (each.price * each.quantity)\n            })\n            return total\n        }\n        const buyfood = () =>{\n            if(this.state.cod){\n               if(this.props.login){\n                   if(this.props.login.loginauth){\n                        let fooddetails = []\n                        for(let i of this.state.cart){\n                            fooddetails.push({\n                                foodname : i.name,\n                                foodprice : i.price,\n                                foodquantity : i.quantity\n                            })\n                        }\n                        this.props.cartorder(this.props.login.userid,this.props.login.email,fooddetails, (totalbill() + (totalbill() * 13/100)))\n                   }else{\n                       alert('Please signin first')\n                       window.location.href = '/signin'\n                   }\n               }\n            }else{\n                alert('Please select the payment option first')\n            }\n        }\n        return(\n            <div className='cartpage'>\n                <div style={{pointerEvents : this.state.checkoutbutton ? 'none' : null, opacity : this.state.checkoutbutton ? '0.2' : null}}>\n                    <Link to='/menu'><button className='backbutton'>Back</button></Link>\n                    <p className='carttxt'>Your Cart</p>\n                    <div className='cartbox' data-aos='fade-up'>\n                        {\n                            this.state.cart.length > 0 ?\n                            <div>\n                                <div className='headingincart'>\n                                    <p className='headingnameincart'>Name</p>\n                                    <p className='headingquantityincart'>Quantity</p>\n                                    <p className='headingpriceincart'>Price</p>\n                                </div>\n                                <div className='cartboxinside'>\n                                    {this.state.cart.map((each,i)=>{\n                                        return(\n                                            <div className='eachitem' key={each.name}>\n                                                <p className='numbersforitems'>{i+1}.</p>\n                                                <div className='itemnameandprice'>\n                                                    <p className='itemname'>{each.name}</p>\n                                                    <p className='itemprice'>Rs. {each.price}</p>\n                                                </div>\n                                                <button className='buttonincart' onClick={()=>decreaseincart(each)}><p style={{fontSize: '1.8vw'}}>-</p></button>\n                                                <p className='itemquantity'>{each.quantity}</p>\n                                                <button className='buttonincart' onClick={()=>increaseincart(each)}><p style={{fontSize: '1.8vw'}}>+</p></button>\n                                                <p className='totalpriceforeach'>Rs. {each.price * each.quantity}</p>\n                                            </div>\n                                        )\n                                    })}\n                                </div>\n                                \n                            </div>\n                            :\n                            <p className='carttxt emptycarttxt' style={{color:'#000000'}}>Please select your food first</p>\n                        }\n                    </div>\n                    <div className='checkoutbox'>\n                        {this.state.cart.length > 0 ?\n                        <div>\n                            <p className='carttxt yourbill'>Your bill</p>\n                            <div className='billdetails'>\n                            <div className='totalbilldiv'>\n                                <p className='totalbill'>Total:</p>\n                                <p className='totalbillnum'>Rs. {parseInt(totalbill()).toFixed(2)}</p>\n                            </div>\n                            <div className='totalbilldiv'>\n                                <p className='totalbill'>Tax:</p>\n                                <p className='totalbillnum'>13%</p>\n                            </div>\n                            <div className='totalbilldiv'>\n                                <p className='totalbill'>Total Amount:</p>\n                                <p className='totalbillnum'>Rs. {parseInt(totalbill() + (totalbill() * 13/100)).toFixed(2)}</p>\n                            </div>\n                            </div>\n                            <button className='checkoutbutton' onClick={()=>[this.setState({checkoutbutton : true}),window.scrollTo(0,0)]}>Check Out</button>\n                        </div>\n                        :\n                        <p className='carttxt emptycarttxt' style={{color:'#000000'}}>Please select your food first</p>}\n                    </div>\n                </div> \n                <div>\n                    {this.state.checkoutbutton ? \n                    <div className='checkoutprocess'>\n                        <button className='buttoncross' onClick={()=>this.setState({checkoutbutton : false})}>X</button>\n                        <p className='paytxt'>How do you want to pay?</p>\n                        <div className='optionstopay'>\n                            <div className='eachradio'>\n                                <input type='radio' className='radiobuttons' onChange={()=>this.setState({otherpay : false})} checked={this.state.otherpay}/>\n                                <p className='radiooptionsname' >Debit Card</p>\n                            </div>\n                            <div className='eachradio'>\n                                <input type='radio' className='radiobuttons' onChange={()=>this.setState({otherpay : false})} checked={this.state.otherpay}/>\n                                <p className='radiooptionsname'>Credit Card</p>\n                            </div>\n                            <div className='eachradio'>\n                                <input type='radio' className='radiobuttons' onChange={()=>this.setState({otherpay : false})} checked={this.state.otherpay}/>\n                                <p className='radiooptionsname'>Net Banking</p>\n                            </div>\n                            <div className='eachradio'>\n                                <input type='radio' className='radiobuttons' onChange={()=>this.setState({cod : true})} checked={this.state.cod}/>\n                                <p className='radiooptionsname' onClick={()=>this.setState({cod : true})}>Cash On Delivery (COD)</p>\n                            </div>\n                            \n                        </div>\n                        <button className='orderbuttonincart' onClick={()=>buyfood()}>Order</button>\n                    </div>\n                    : \n                    null\n                    }\n                </div>\n            </div>\n        )\n    }\n}\nconst mapStateToProps = (state) =>{\n    return{\n        login : state.user_reducer.login\n    }\n}\nexport default connect(mapStateToProps,{cartorder})(Cart)"]},"metadata":{},"sourceType":"module"}